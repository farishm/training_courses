<div class="row">
    <div class="col">
        <div class="card mb-3" *ngIf="venue">
            <div class="card-header">
                <div class="row">
                    <div class="col-12">
                        <h3>{{title}}</h3>
                    </div> 
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-9">
                        <form [formGroup]="venueForm" (ngSubmit)="save()" #formDir="ngForm">                        
                            <div class="form-group row">
                                <label class="control-label col-3" for="name">Venue Name:</label>
                                <div class="col-9">
                                    <input id="name" formControlName="name" class="form-control"
                                    required minlength="5" placeholder="Enter venue name">
                                     <div *ngIf="venueForm.controls['name'].invalid && (venueForm.controls['name'].dirty || venueForm.controls['name'].touched)"
                                        class="alert alert-danger">
                                        <div *ngIf="venueForm.controls['name'].errors.required">
                                            Name is mandatory.
                                        </div>
                                        <div *ngIf="venueForm.controls['name'].errors.minlength || venueForm.controls['name'].errors.maxlength">
                                            please enter a name with at minimum 5 characters and maximum 30 characters.
                                        </div>                                       
                                    </div>
                                    <div *ngIf="venueExists" class="alert alert-danger">
                                            Name already Exists.
                                    </div> 
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-3" for="description">Description:</label>
                                <div class="col-9">
                                    <textarea id="description" formControlName="description" class="form-control" rows="5" placeholder="Enter venue description"></textarea>                                            
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-3" for="number">Number:</label>
                                <div class="col-9">
                                    <input id="number" formControlName="number" class="form-control" placeholder="Enter venue number">
                                </div>
                            </div> 
                            <div class="form-group row">
                                <label class="control-label col-3" for="reference">Reference:</label>
                                <div class="col-9">
                                    <input id="reference" formControlName="reference" class="form-control" placeholder="Enter venue reference" required minlength="6">
                                    <div *ngIf="venueForm.controls['reference'].invalid && (venueForm.controls['reference'].dirty || venueForm.controls['reference'].touched)"
                                        class="alert alert-danger">
                                        <div *ngIf="venueForm.controls['reference'].errors.required">
                                            Reference is mandatory.
                                        </div>
                                        <div *ngIf="venueForm.controls['reference'].errors.minlength || venueForm.controls['reference'].errors.maxlength">
                                            please enter a reference with minimum 6 characters and maximum 9 characters.
                                        </div>                                       
                                    </div>
                                    <div *ngIf="referenceExists" class="alert alert-danger">
                                            Reference already Exists.
                                    </div>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="control-label col-3" for="capacity">Capacity:</label>
                                <div class="col-9">
                                    <input id="capacity" formControlName="capacity" class="form-control" placeholder="Enter venue capacity">
                                </div>
                            </div>                             
                            <div class="form-group row">
                                <label class="control-label col-3" for="status">Status:</label>
                                <div class="col-9">                                    
                                    <input id="status" formControlName="status" class="form-control" placeholder="Enter venue status">
                                </div>
                            </div>  
                            <div class="form-group row">
                                <label class="control-label col-3" for="phone">Phone:</label>
                                <div class="col-9">
                                    <input id="phone" formControlName="phone" class="form-control" placeholder="Enter venue phone">
                                </div>
                            </div>  
                            <div formGroupName="address">
                                <div class="form-group row">
                                    <label class="control-label col-3" for="line1">Address:</label>
                                    <div class="col-9">
                                        <input id="line1" formControlName="line1" class="form-control" placeholder="Enter venue address">
                                    </div>
                                </div> 
                                <div class="form-group row">
                                    <label class="control-label col-3" for="city">City:</label>
                                    <div class="col-9">
                                        <input id="city" formControlName="city" class="form-control" placeholder="Enter venue city">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="control-label col-3" for="county">County:</label>
                                    <div class="col-9">
                                        <input id="county" formControlName="county" class="form-control" placeholder="Enter venue county">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="control-label col-3" for="postcode">Postcode:</label>
                                    <div class="col-9">
                                        <input id="postcode" formControlName="postcode" class="form-control" placeholder="Enter venue postcode" required>
                                        <div *ngIf="venueForm.controls['address'].controls['postcode'].invalid && (venueForm.controls['address'].controls['postcode'].dirty || venueForm.controls['address'].controls['postcode'].touched)"
                                        class="alert alert-danger">
                                            <div *ngIf="venueForm.controls['address'].controls['postcode'].errors.required">
                                                Postcode is mandatory.
                                            </div>
                                            <div *ngIf="venueForm.controls['address'].controls['postcode'].hasError('pattern')">
                                                please enter a valid Postcode.
                                            </div>                                       
                                        </div>
                                    </div>
                                </div> 
                            </div>                                    
                            <div class="form-group row"> 
                                <div class="col text-right">
                                    <button class="btn btn-outline-primary" type="submit" [disabled]="venueForm.invalid">
                                        Save
                                    </button>
                                    <button (click)="goBack()" class="btn btn-outline-dark" type="button">Back</button>
                                </div>
                            </div>
                        </form> 
                        <p>venueForm value: {{ venueForm.value | json}}</p>                        
                    </div> 
                    <div class="col-3">
                    </div> 
                </div>
            </div>
        </div>
    </div>
</div>
